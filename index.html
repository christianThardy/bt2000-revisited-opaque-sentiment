<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=0.25, maximum-scale=5">
    <title>Are You Ok?</title>
    <style>
      body {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 100vw;
        height: 100vh;
        overflow-x: hidden;
        overflow-y: hidden;
        /*zoom: 1.5;*/
        transform: scale(1.5);
      }
      
      #title {
        font-family: 'Helvetica', sans-serif;
        font-size: 24px;
      }
      
      button {
        background-color: #4CAF50; /* Green */
        border: none;
        color: white;
        padding: 15px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 30px 2px;
        cursor: pointer;
        border-radius: 10px;
      }
      
      button.recording {
        background-color: #f44336; /* Red */
        color: white;
      }
      
      #counter, #translated-text {
        font-size: 20px;
      }
      
      #response {
        background-color: #f1f1f1;
        padding: 20px;
        pointer-events: none;
      }
      
      #winking-emoji {
        font-size: 36px;
        position: absolute;
        top: -50px; /* move the emoji 50 pixels up */
        left: 50%;
        transform: translate(-50%, -50%);
      }
      
     @media screen and (max-width: 500px) {
       #winking-emoji {
        top: -30px; /* adjust the top value for smaller screen sizes */
      }
    }
    </style>
  </head>
  <body>
    <div id="title-container" style="position: relative;">
    <div id="title">ðŸ˜ƒ Are you Ok? ðŸ˜¡</div>
    <div id="winking-emoji">ðŸ˜‰</div>
    </div>
    <button id="record-button">Record</button>
    <div id="counter"></div>
    <div id="translated-text"></div>
    <div id="response"></div>

    <script>
      const recordButton = document.getElementById('record-button');
      const counterElement = document.getElementById('counter');
      const translatedTextElement = document.getElementById('translated-text');

      let isRecording = false;
      let timer = 0;
      let timerInterval = null;

     recordButton.addEventListener('click', async () => {
        if (isRecording) {
          // Stop recording and reset the timer
          whisper.stop();
          clearInterval(timerInterval);
          timer = 0;
          isRecording = false;
          recordButton.textContent = 'Record';
        } else {
          // Start recording and update the timer every second
          whisper.start();
          isRecording = true;
          recordButton.textContent = 'Stop';
          timerInterval = setInterval(() => {
            timer++;
            counterElement.textContent = `Recording for ${timer} seconds...`;
          }, 1000);
        }
      });
      
      <script src="https://raw.githubusercontent.com/christianThardy/bt2000-revisited-opaque-sentiment/main/whisper-speech-recognition.js">
      </script>

      <script src="https://raw.githubusercontent.com/christianThardy/bt2000-revisited-opaque-sentiment/main/classification-and-generation.js">
    </script>
  </body>
</html>
